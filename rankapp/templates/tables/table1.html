{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Remove NRFD.{% endblock %}</h1>
{% endblock %}

{% block content %}
  <p>Please click to select the patients who are not ready to be discharged from intensive care.</p>
  <p>When you have finished selecting patients cllick 'submit'.</p>
  
  <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.18/rr-1.2.4/sl-1.2.6/datatables.min.css"/> 
  <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.18/rr-1.2.4/sl-1.2.6/datatables.min.js"></script>
  <script>  
  $(document).ready(function() {
    var table = $('#example').DataTable({
        "paging":   false,
        "ordering": false,
        "info":     false,
        "searching":   false,
         columnDefs: [{
            targets: [1,2,3,4],
            className: 'dt-right'
            },
            {
            targets: [0],
            className: 'dt-left'
            }]
        });
    $('#example tbody').on( 'click', 'tr', function () {
        $(this).toggleClass('selected');
        } );
    $('#testButton').click( function () {
        //alert( table.rows('.selected').data().length +' row(s) selected' );
        var i;
        var text = '';
        for (i = 0; i < table.rows('.selected').data().length; i++) {
          text += table.rows('.selected').data()[i] + "\n";
        } 
        alert( text );
    } );
    });
  $(function(){
    function setInputValue(input_id, val) {
        document.getElementById(input_id).setAttribute('value', val);
    }
    function addInput(val, i) {
        var input = document.createElement('input');
        input.setAttribute('type', 'hidden');
        input.setAttribute('value', val);
        input.setAttribute('id', i);
        var inform = document.getElementById('nrfd_form');
        inform.appendChild(input);
        alert( document.getElementById('nrfd_form')['myname']['value'] );
    }
    setInputValue('prodId', 'mxw22222222'); 
    //addInput('beasty', 'myname');
    $('<input>').attr({
    type: 'hidden',
    id: 'myname',
    name: 'myname',
    value: 'beasty'}).appendTo('#nrfd_form');
    alert( document.getElementById('nrfd_form')['myname']['value'] );
  });
  </script>
  <button type="button" id="testButton">Count selected..</button>

  <table id="example" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Name</th>
                <th>Bed number</th>
                <th>T number</th>
                <th>Age</th>
                <th>Admission date</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Paul Stephenson</td>
                <td>4</td>
                <td>T402361</td>
                <td>61</td>
                <td>2011/04/25</td>
            </tr>
            <tr>
                <td>Princess Campbell</td>
                <td>11</td>
                <td>T410974</td>
                <td>63</td>
                <td>2011/07/25</td>
            </tr>
            <tr>
                <td>Roy Hackett</td>
                <td>12</td>
                <td>T218475</td>
                <td>81</td>
                <td>2011/07/26</td>
            </tr>
            <tr>
                <td>Guy Bailey</td>
                <td>21</td>
                <td>T321850</td>
                <td>70</td>
                <td>2011/06/14</td>
            </tr>
        </tbody>
    </table>
  
  <form action="/submit_table1", method="post", id="nrfd_form">
    <input type="submit" value="Submit">
    <input id="prodId" name="prodId" type="hidden" value="xm234jq">
  </form>
{% endblock %}
